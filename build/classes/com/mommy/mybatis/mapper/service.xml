<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http//mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Service">	
	
	<!-- 게시글 전체 개수 -->
	<select id="getTotal" resultType="_int">
		select count(profileNum) from tbl_profile
	</select>
	
	<!-- 부모가 쓴 게시글 목록 -->
	<select id="selectAll1" parameterType="map" resultType="ServiceDTO">
	select profileNum, p.userNum, profileDate, profilePicture, profileDescription, 
	profileSalary, profileAttach, profileProcess, locationSido, locationSigun, 
	locationDong, P_periodStartDate, P_mon, P_tue, P_wed, P_thu, P_fri, 
	P_sat, P_sun, P_morning, P_lunch, P_noon, P_week, P_month, P_quarter,
	P_semiAnnual, careIndoor, careCommit, careFood, careClean, careStudy, 
	babyNewborn, babyChild, babyKinder, babyElementary, checkMedi, 
	checkMom, checkTeacher, checkCitizen, checkUniversity, u.userStatus 
	from tbl_profile p join tbl_user u on p.userNum = u.userNum
	where u.userStatus =1
	order by profileNum desc limit #{startRow}, #{rowCount}
	
	</select>
	
	<!-- 시터가 쓴 게시글 목록 -->
	<select id="selectAll2" parameterType="map" resultType="ServiceDTO">
	select profileNum, p.userNum, profileDate, profilePicture, profileDescription, 
	profileSalary, profileAttach, profileProcess, locationSido, locationSigun, 
	locationDong, P_periodStartDate, P_mon, P_tue, P_wed, P_thu, P_fri, 
	P_sat, P_sun, P_morning, P_lunch, P_noon, P_week, P_month, P_quarter,
	P_semiAnnual, careIndoor, careCommit, careFood, careClean, careStudy, 
	babyNewborn, babyChild, babyKinder, babyElementary, checkMedi, 
	checkMom, checkTeacher, checkCitizen, checkUniversity, u.userStatus 
	from tbl_profile p join tbl_user u on p.userNum = u.userNum
	where u.userStatus =2
	order by profileNum desc limit #{startRow}, #{rowCount}
	
	</select>
	
	<!-- 시터 게시글 전체갯수	 -->
	<select id="sitterTotal" resultType="_int">
		select count(profileNum) from tbl_profile p
		join tbl_user u on p.userNum = u.userNum 
		where u.userStatus =2;
	</select>
	
	<!--맘 게시글 전체갯수  -->
	<select id="momTotal" resultType="_int">
		select count(profileNum) from tbl_profile p
		join tbl_user u on p.userNum = u.userNum 
		where u.userStatus =1;
	</select>
	
	
	<!-- 프로필 작성 
	<insert id="insert" parameterType="ServiceVO">
	
    insert into tbl_profile
	(userNum, profileDate, profilePicture, profileDescription, profileSalary, 
	profileAttach, profileProcess, locationSido, locationSigun, locationDong, 
	P_periodStartDate, P_mon, P_tue, P_wed, P_thu, 
	P_fri, P_sat, P_sun, P_morning, P_lunch, 
	P_noon, P_week, P_month, P_quarter, P_semiAnnual, 
	careIndoor, careCommit, careFood, careClean, careStudy, 
	babyNewborn, babyChild, babyKinder, babyElementary, checkMedi, 
	checkMom, checkTeacher, checkCitizen, checkUniversity)
	VALUES(
	#{userNum}, #{profileDate}, #{profilePicture}, #{profileDescription}, #{profileSalary}, 
	#{profileAttach}, #{profileProcess}, #{locationSido}, #{locationSigun}, #{locationDong}, 
	#{P_periodStartDate}, #{P_mon}, #{P_tue}, #{P_wed}, #{P_thu}, 
	#{P_fri}, #{P_sat}, #{P_sun}, #{P_morning}, #{P_lunch}, 
	#{P_noon}, #{P_week}, #{P_month}, #{P_quarter}, #{P_semiAnnual}, 
	#{careIndoor}, #{careCommit}, #{careFood}, #{careClean}, #{careStudy}, 
	#{babyNewborn}, #{babyChild}, #{babyKinder}, #{babyElementary}, #{checkMedi}, 
	#{checkMom}, #{checkTeacher}, #{checkCitizen}, #{checkUniversity);
	</insert>
	
	-->

</mapper>